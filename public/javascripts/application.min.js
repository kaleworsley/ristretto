$(document).ready(function(){flashMessage();markdownifyTextareas();$(".inlinebar").sparkline("html",{type:"bar",barColor:"#0472CC"});$(".inlinebar-red").sparkline("html",{type:"bar",barColor:"#CC040B"});$("textarea.resize:not(.processed)").TextAreaResizer()});function loadingOverlayStart(){loadingOverlayStop();$("body").append('<div class="loading-overlay">Loading</div>');$("div.loading-overlay").disableSelection().fadeIn(500)}function loadingOverlayStop(){$("div.loading-overlay").fadeOut(500,function(){$(this).remove()})}function flashMessage(){$("body #page div.message.flash").purr().find(".close").html('<span class="ui-icon ui-icon-circle-close"></span>')}function flashNotice(a){$("#page").prepend('<div class="flash round-5 message notice not-sticky">'+a+"</div>");flashMessage()}function flashError(a){$("#page").prepend('<div class="flash round-5 message error not-sticky">'+a+"</div>");flashMessage()}function flashWarning(a){$("#page").prepend('<div class="flash round-5 message warning not-sticky">'+a+"</div>");flashMessage()}function markdownifyTextareas(a,b){$((a||"textarea.markdown"),(b||$("body"))).each(function(){$(this).wmd();$(this).not(".processed").TextAreaResizer();$(this).parents(".resizable-textarea").addClass("markdown")})}function btifyTitles(a,c,b){$((a||'#content *[title!=""]')).bt({trigger:c||"hover",fill:"#F3F3F3",cornerRadius:4,strokeWidth:1,strokeStyle:"#939393",shadow:true,shadowOffsetX:0,shadowOffsetY:0,shadowBlur:3,shadowColor:"#888",shadowOverlap:false,contentSelector:b||"$(this).attr('title')",noShadowOpts:{strokeStyle:"#999",strokeWidth:2},shrinkToFit:true,cssStyles:{color:"#000"}})}function createCookie(c,d,e){if(e){var b=new Date();b.setTime(b.getTime()+(e*24*60*60*1000));var a="; expires="+b.toGMTString()}else{var a=""}document.cookie=escape(c)+"="+escape(d)+a+"; path=/"}function readCookie(b){var e=escape(b)+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var f=a[d];while(f.charAt(0)==" "){f=f.substring(1,f.length)}if(f.indexOf(e)==0){return unescape(f.substring(e.length,f.length))}}return null}function removeCookie(a){createCookie(a,"",-1)}function getCookies(){var f={};var a=document.cookie.split("; ");for(var e=0;e<a.length;e++){var h=a[e];var d=h.split("=");var b=unescape(d[0]);var g=unescape(d[1]);f[b]=g}return f}function searchAll(c,b){var a=0;$.each(c.split(" "),function(e,d){if(b.search(d)>-1){++a}});if(a==c.split(" ").length){return 1}else{return -1}}window.onbeforeunload=function(){beforeUnload=true};function pad0(a){var b=a.toString();if(b.length==1){return"0"+b}else{return b}}function removeItem(c,b){var a=0;while(a<c.length){if(c[a]==b){c.splice(a,1)}else{a++}}return c}function unique(c){var e=new Array();o:for(var d=0,g=c.length;d<g;d++){for(var b=0,f=e.length;b<f;b++){if(e[b]==c[d]){continue o}}e[e.length]=c[d]}return e}$(document).ready(function(){$("ul.primary-nav li.time ul li.unsaved-timeslice span.task").each(function(){var a=$(this).text();$(this).html('<a href="#"><img src="/images/cancel.png" /></a>');$(this).find("a").click(function(){if(confirm("Are you sure you want to remove this unsaved timeslice?")){removeCookie("timesliceStarted:"+a);removeCookie("timesliceFinished:"+a);removeCookie("timesliceDescription:"+a);removeCookie("timesliceTimer:"+a);$(this).parents("li.unsaved-timeslice").slideUp()}return false})})});$(document).ready(function(){$("pre code").each(function(a,b){hljs.highlightBlock(b,"  ")});$("textarea.markdown").typing({stop:function(){$(".wmd-preview pre code").each(function(a,b){hljs.highlightBlock(b,"  ")})},delay:1000})});function magicScroll(b,a){if($(b).length==1){$(b).infinitescroll({navSelector:"div.pagination",nextSelector:"div.pagination a.next_page",itemSelector:a,loadingImg:"/images/loading-light.gif",loadingText:"",donetext:""})}};